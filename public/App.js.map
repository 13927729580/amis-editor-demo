{"version":3,"sources":["/App.tsx"],"names":[],"mappings":";;;;;AAAA,wDAA0B;AAC1B,yCAAoC;AACpC,6BAA2C;AAC3C,wDAA0B;AAC1B,uCAAwC;AACxC,gEAAsC;AACtC,gFAAqC;AAErC;IACI,IAAM,KAAK,GAAG,CAAE,MAAc,CAAC,KAAK,GAAG,iBAAS,CAAC,MAAM,CACnD,EAAE,EACF;QACI,OAAO,EAAE,UAAC,EAAgC;gBAA/B,YAAG,EAAE,kBAAM,EAAE,cAAI,EAAE,kBAAM;YAChC,MAAM,GAAG,MAAM,IAAI,EAAE,CAAC;YACtB,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,IAAI,EAAE,CAAC;YACtC,MAAM,CAAC,eAAe,GAAG,IAAI,CAAC;YAE9B,IAAI,MAAM,KAAK,MAAM,IAAI,MAAM,KAAK,KAAK,IAAI,MAAM,KAAK,OAAO,EAAE;gBAC7D,IAAI,IAAI,EAAE;oBACN,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC;iBACxB;gBACD,OAAQ,eAAa,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;aAC9C;iBAAM,IAAI,IAAI,IAAI,IAAI,YAAY,QAAQ,EAAE;gBACzC,yCAAyC;gBACzC,0DAA0D;aAC7D;iBAAM,IACH,IAAI;gBACJ,OAAO,IAAI,KAAK,QAAQ;gBACxB,CAAC,CAAC,IAAI,YAAY,IAAI,CAAC;gBACvB,CAAC,CAAC,IAAI,YAAY,WAAW,CAAC,EAChC;gBACE,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;gBAC5B,MAAM,CAAC,OAAO,CAAC,cAAc,CAAC,GAAG,kBAAkB,CAAC;aACvD;YAED,OAAQ,eAAa,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;QACrD,CAAC;QACD,QAAQ,EAAE,UAAC,CAAM,IAAK,sBAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAjB,CAAiB;QACvC,MAAM,EAAE,UAAC,IAAkC,EAAE,GAAW;YACpD,YAAK,CAAC,IAAI,CAAC;gBACP,CAAC,CAAC,YAAK,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC;gBACtD,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;YAC1C,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,IAAI,EAAE,GAAG,CAAC,CAAC;QACvC,CAAC;QACD,KAAK;QACL,OAAO;QACP,IAAI,EAAE,UAAC,QAAgB,EAAE,OAAiB;YAAjB,sCAAiB;YACtC,IAAM,GAAG,GAAG,2BAAI,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;YACpC,GAAG,IAAI,CAAC,CAAC,OAAO,IAAI,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,IAAI,YAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACxE,OAAO,GAAG,CAAC;QACf,CAAC;KACJ,CACJ,CAAC,CAAC;IAEH,OAAO,CACH,8BAAC,qBAAQ,IAAC,KAAK,EAAE,KAAK;QAClB,8BAAC,eAAS,IAAC,KAAK,EAAE,KAAK,GAAI,CACpB,CACd,CAAC;AACN,CAAC;AAnDD,4BAmDC","file":"App.js","sourcesContent":["import React from 'react';\nimport {Provider} from 'mobx-react';\nimport {toast, alert, confirm} from 'amis';\nimport axios from 'axios';\nimport {MainStore} from './store/index';\nimport RootRoute from './route/index';\nimport copy from 'copy-to-clipboard';\n\nexport default function(): JSX.Element {\n    const store = ((window as any).store = MainStore.create(\n        {},\n        {\n            fetcher: ({url, method, data, config}: any) => {\n                config = config || {};\n                config.headers = config.headers || {};\n                config.withCredentials = true;\n\n                if (method !== 'post' && method !== 'put' && method !== 'patch') {\n                    if (data) {\n                        config.params = data;\n                    }\n                    return (axios as any)[method](url, config);\n                } else if (data && data instanceof FormData) {\n                    // config.headers = config.headers || {};\n                    // config.headers['Content-Type'] = 'multipart/form-data';\n                } else if (\n                    data &&\n                    typeof data !== 'string' &&\n                    !(data instanceof Blob) &&\n                    !(data instanceof ArrayBuffer)\n                ) {\n                    data = JSON.stringify(data);\n                    config.headers['Content-Type'] = 'application/json';\n                }\n\n                return (axios as any)[method](url, data, config);\n            },\n            isCancel: (e: any) => axios.isCancel(e),\n            notify: (type: 'success' | 'error' | 'info', msg: string) => {\n                toast[type]\n                    ? toast[type](msg, type === 'error' ? '系统错误' : '系统消息')\n                    : console.warn('[Notify]', type, msg);\n                console.log('[notify]', type, msg);\n            },\n            alert,\n            confirm,\n            copy: (contents: string, options: any = {}) => {\n                const ret = copy(contents, options);\n                ret && (!options || options.shutup !== true) && toast.info('内容已拷贝到剪切板');\n                return ret;\n            }\n        }\n    ));\n\n    return (\n        <Provider store={store}>\n            <RootRoute store={store} />\n        </Provider>\n    );\n}\n"]}